"use strict";(globalThis.webpackChunkunmanic_documentation=globalThis.webpackChunkunmanic_documentation||[]).push([[2369],{7638(e,n,s){s.d(n,{A:()=>i});const i=s.p+"assets/images/windows_wsl-winver_run-0ef2f7c960ce738968151c60693162b0.png"},25125(e,n,s){s.d(n,{A:()=>i});const i=s.p+"assets/images/windows_wsl-username-f75075ff71871284259d3a637c301bc0.png"},26437(e,n,s){s.d(n,{A:()=>i});const i=s.p+"assets/images/windows_wsl-quit_docker-2739890e0c9464ff766819c457208f8f.png"},27410(e,n,s){s.d(n,{A:()=>i});const i=s.p+"assets/images/windows_wsl-windows_security_alert-387453140c788c038406b8f8bd7f6af2.png"},28453(e,n,s){s.d(n,{R:()=>r,x:()=>a});var i=s(96540);const t={},o=i.createContext(t);function r(e){const n=i.useContext(o);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),i.createElement(o.Provider,{value:n},e.children)}},32178(e,n,s){s.d(n,{A:()=>i});const i=s.p+"assets/images/windows_wsl-docker_starting-075a998ea4abe8589831c588b732cc2a.png"},40993(e,n,s){s.d(n,{A:()=>i});const i=s.p+"assets/images/windows_wsl-run_bash-78bd0a38645b492b426c89b6c0d81081.png"},46329(e,n,s){s.d(n,{A:()=>i});const i=s.p+"assets/images/windows_wsl-cmd-05779fd6c6867ce59c2c616910374c16.png"},66758(e,n,s){s.d(n,{A:()=>i});const i=s.p+"assets/images/windows_wsl-new_nano-233e6a8bbf8b7ac7d2408331e9c8641e.png"},67769(e,n,s){s.d(n,{A:()=>i});const i=s.p+"assets/images/windows_wsl-post_reboot_ubuntu_install-b3115a17cefe47ff33b2aa081684e4fa.png"},75020(e,n,s){s.d(n,{A:()=>i});const i=s.p+"assets/images/windows_wsl-docker_wsl_setup-a8d3baddbce578fdb0602d055c3e28eb.png"},75273(e,n,s){s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>r,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"advanced/windows_wsl","title":"Install on Windows 10/11 (WSL + Docker)","description":"Unmanic Installation on Windows 10/11 with WSL and Docker","source":"@site/docs/advanced/windows_wsl.mdx","sourceDirName":"advanced","slug":"/advanced/windows_wsl","permalink":"/docs/advanced/windows_wsl","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Install on Windows 10/11 (WSL + Docker)","description":"Unmanic Installation on Windows 10/11 with WSL and Docker","id":"windows_wsl"},"sidebar":"docs","previous":{"title":"Linux Hardware Acceleration - NVIDIA NVENC/NVDEC","permalink":"/docs/advanced/linux_hardware_accelerated_encoding_nvidia"},"next":{"title":"Docker Hardware Acceleration - NVIDIA NVENC/NVDEC","permalink":"/docs/advanced/docker_hardware_accelerated_encoding_nvidia"}}');var t=s(74848),o=s(28453);const r={title:"Install on Windows 10/11 (WSL + Docker)",description:"Unmanic Installation on Windows 10/11 with WSL and Docker",id:"windows_wsl"},a=void 0,c={},d=[{value:"Requirements",id:"requirements",level:2},{value:"1) Checking requirements",id:"1-checking-requirements",level:3},{value:"Instructions",id:"instructions",level:2},{value:"1) Installing WSL 2 (Windows Subsystem for Linux 2)",id:"1-installing-wsl-2-windows-subsystem-for-linux-2",level:3},{value:"2) Mount your media library in WSL 2 Ubuntu",id:"2-mount-your-media-library-in-wsl-2-ubuntu",level:3},{value:"3) Docker for Windows",id:"3-docker-for-windows",level:3},{value:"4) Troubleshooting common issues",id:"4-troubleshooting-common-issues",level:3},{value:"5) NVIDIA hardware acceleration for Unmanic on Windows",id:"5-nvidia-hardware-acceleration-for-unmanic-on-windows",level:3}];function l(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h2,{id:"requirements",children:"Requirements"}),"\n",(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsx)(n.p,{children:"The process for setting this up on Windows 11 should be similar."})}),"\n",(0,t.jsx)(n.p,{children:"This requires Windows 10, Version 1903, Build 18362 or higher."}),"\n",(0,t.jsx)(n.h3,{id:"1-checking-requirements",children:"1) Checking requirements"}),"\n",(0,t.jsx)(n.p,{children:"To check this, press Windows key R."}),"\n",(0,t.jsx)(n.p,{children:"In the Run dialog, type:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"winver\n"})}),"\n",(0,t.jsx)("img",{className:"screenshot",src:s(7638).A}),"\n",(0,t.jsx)("img",{className:"screenshot",src:s(79716).A}),"\n",(0,t.jsxs)(n.p,{children:["If you are not running Version 1903, Build 18362 or higher, you can download the Windows Update Assistant from Microsoft ",(0,t.jsx)(n.a,{href:"https://www.microsoft.com/en-us/software-download/windows10",children:"here"}),"."]}),"\n",(0,t.jsx)(n.p,{children:"This will update your system to the newest Windows 10 version."}),"\n",(0,t.jsx)(n.h2,{id:"instructions",children:"Instructions"}),"\n",(0,t.jsx)(n.h3,{id:"1-installing-wsl-2-windows-subsystem-for-linux-2",children:"1) Installing WSL 2 (Windows Subsystem for Linux 2)"}),"\n",(0,t.jsx)(n.p,{children:"As an administrator account, open a CMD window by pressing Windows key R."}),"\n",(0,t.jsx)("img",{className:"screenshot",src:s(46329).A}),"\n",(0,t.jsx)(n.p,{children:"In the Run dialog, enter the command, cmd, and click OK. Enter the following command in the CMD window:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"wsl --install -d Ubuntu\n"})}),"\n",(0,t.jsx)(n.p,{children:"Once the command has finished, reboot your computer."}),"\n",(0,t.jsx)(n.p,{children:"After rebooting, the Ubuntu install will continue. This will take a few minutes. Do not close the Ubuntu dialog box while it is installing."}),"\n",(0,t.jsx)("img",{className:"screenshot",src:s(67769).A}),"\n",(0,t.jsx)(n.p,{children:"You will eventually see a prompt to enter a new UNIX username."}),"\n",(0,t.jsx)("img",{className:"screenshot",src:s(25125).A}),"\n",(0,t.jsx)(n.p,{children:"Select a username and press enter. It will now prompt for a new password. Enter a password and press enter."}),"\n",(0,t.jsx)(n.p,{children:"It will then ask you to retype the new password. Verify your password and press enter."}),"\n",(0,t.jsx)(n.p,{children:"You will now be at a bash prompt. If at any point, you close the Ubuntu bash window, you can reopen it by pressing Windows key R and typing: bash then press OK."}),"\n",(0,t.jsx)("img",{className:"screenshot",src:s(40993).A}),"\n",(0,t.jsx)(n.h3,{id:"2-mount-your-media-library-in-wsl-2-ubuntu",children:"2) Mount your media library in WSL 2 Ubuntu"}),"\n",(0,t.jsx)(n.p,{children:"First, make a mount point for your library."}),"\n",(0,t.jsx)(n.p,{children:"To make the changes we need to directories and files, use the sudo command. This will prompt for the password that you set earlier."}),"\n",(0,t.jsx)(n.p,{children:"As an example, we will use the Windows drive letter Y for the location of our library."}),"\n",(0,t.jsx)(n.p,{children:"In your Ubuntu bash window, type:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"sudo mkdir /library\n"})}),"\n",(0,t.jsx)(n.p,{children:"This will create a local mount point where Unmanic will be able to see your media."}),"\n",(0,t.jsx)(n.p,{children:"Next, make sure this drive will be mounted after reboots. For this command, run as root."}),"\n",(0,t.jsxs)(n.p,{children:["From the Ubuntu bash window, type: ",(0,t.jsx)(n.code,{children:"sudo su -"})," and press enter. Enter your password when prompted."]}),"\n",(0,t.jsx)(n.p,{children:"Next, add the drive entry to the fstab file."}),"\n",(0,t.jsx)(n.p,{children:"With the following command, leave the quotes in place. Replace Y with the drive letter of your mounted library."}),"\n",(0,t.jsx)(n.p,{children:"From your Ubuntu bash window, type:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'echo "Y: /library drvfs defaults 0 0" >> /etc/fstab\n'})}),"\n",(0,t.jsx)(n.p,{children:"Next, mount the drive. From the Ubuntu bash window, type:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"mount -a\n"})}),"\n",(0,t.jsx)(n.p,{children:"To verify the drive is now mounted, type:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"df -h\n"})}),"\n",(0,t.jsx)(n.p,{children:"The drive will be shown somewhere in the listed entries."}),"\n",(0,t.jsx)("img",{className:"screenshot",src:s(90563).A}),"\n",(0,t.jsx)(n.h3,{id:"3-docker-for-windows",children:"3) Docker for Windows"}),"\n",(0,t.jsx)(n.p,{children:"Next install Docker for Windows."}),"\n",(0,t.jsxs)(n.p,{children:["Docker for Windows can be found ",(0,t.jsx)(n.a,{href:"https://docs.docker.com/desktop/windows/install/",children:"here"}),"."]}),"\n",(0,t.jsx)(n.p,{children:"Once the Docker Desktop Installer has been downloaded, run the installer."}),"\n",(0,t.jsx)(n.p,{children:'When the installer opens, make sure the "Install required Windows components for WSL 2" is checked. Click OK to start the installation.'}),"\n",(0,t.jsx)(n.p,{children:"When the installation is complete, it will prompt you to log out of Windows. Press the Close and log out button in the Docker installer."}),"\n",(0,t.jsx)(n.p,{children:"After logging back in, Docker will have you accept its terms of use. Click the I accept the terms box and hit Accept."}),"\n",(0,t.jsx)("img",{className:"screenshot",src:s(32178).A}),"\n",(0,t.jsx)(n.p,{children:"Once the Docker starting message closes, click the Skip tutorial link."}),"\n",(0,t.jsx)(n.p,{children:"Next enable WSL 2 support in Docker. Click the gear icon on the top right of the Docker window to bring up settings."}),"\n",(0,t.jsx)("img",{className:"screenshot",src:s(75020).A}),"\n",(0,t.jsx)(n.p,{children:"Click Resources from the left menu and then WSL INTEGRATION."}),"\n",(0,t.jsx)(n.p,{children:"Click the Enable integration with my default WSL distro."}),"\n",(0,t.jsx)(n.p,{children:"Under the Enable integration with additional distros, enable Ubuntu."}),"\n",(0,t.jsx)(n.p,{children:"Click Apply & Restart."}),"\n",(0,t.jsx)(n.p,{children:"Next install the Unmanic Docker container."}),"\n",(0,t.jsx)(n.p,{children:"Open the Ubuntu bash window and type:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"sudo docker pull josh5/unmanic\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Finally, go to the ",(0,t.jsx)(n.a,{href:"https://docs.unmanic.app/docs/installation/docker",children:"Unmanic documentation page"})," to get the shell script that will pass all the required flags to Unmanic."]}),"\n",(0,t.jsx)(n.p,{children:"In the Ubuntu bash window, type:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"sudo nano -w /usr/local/bin/start-unmanic.sh\n"})}),"\n",(0,t.jsx)(n.p,{children:"This will open the text editor nano."}),"\n",(0,t.jsx)("img",{className:"screenshot",src:s(66758).A}),"\n",(0,t.jsx)(n.p,{children:"Once the nano window is open, copy the block of shell script from the Unmanic documentation link above. Switch back to your Ubuntu bash window with nano open and right click anywhere on the screen. This will paste in the shell script copied from the documentation."}),"\n",(0,t.jsx)(n.p,{children:'Next, save and exit from nano. Press Ctrl X. You will see a message "Save modified buffer?" at the bottom left of the window. Type Y and press enter to save and exit.'}),"\n",(0,t.jsx)("img",{className:"screenshot",src:s(84677).A}),"\n",(0,t.jsx)(n.p,{children:"Next, set the shell script to be executable. In the Ubuntu bash window, type:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"sudo chmod 755 /usr/local/bin/start-unmanic.sh\n"})}),"\n",(0,t.jsx)(n.p,{children:"Finally, in the Ubuntu bash window, type:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"sudo start-unmanic.sh\n"})}),"\n",(0,t.jsx)(n.p,{children:"If you are running the Windows firewall, you may see a security dialog. Click the Allow access button."}),"\n",(0,t.jsx)("img",{className:"screenshot",src:s(27410).A}),"\n",(0,t.jsxs)(n.p,{children:["Unmanic is now running in Docker. To access Unmanic, open a web browser window to ",(0,t.jsx)(n.code,{children:"http://localhost:8888"}),"."]}),"\n",(0,t.jsx)(n.h3,{id:"4-troubleshooting-common-issues",children:"4) Troubleshooting common issues"}),"\n",(0,t.jsx)(n.p,{children:"Problems can arise if the network connection to the computer is interrupted. If Unmanic can no longer see your library, first check that the network drive is still connected to the file server."}),"\n",(0,t.jsx)(n.p,{children:"If the network drive is connected, and Unmanic still cannot see the library, quit Docker by right clicking the Docker icon in the system tray and click Quit Docker Desktop. Docker must be quit completely, the Restart option will not resolve the issue."}),"\n",(0,t.jsx)("img",{className:"screenshot",src:s(26437).A}),"\n",(0,t.jsx)(n.p,{children:"Restart Docker Desktop and restart Unmanic from the Ubuntu bash window."}),"\n",(0,t.jsx)(n.h3,{id:"5-nvidia-hardware-acceleration-for-unmanic-on-windows",children:"5) NVIDIA hardware acceleration for Unmanic on Windows"}),"\n",(0,t.jsx)(n.p,{children:"With WSL 2 and a recent NVIDIA GPU and driver you can access hardware acceleration on Windows. Pascal and later GPUs are supported with a minimum driver of R495."}),"\n",(0,t.jsxs)(n.p,{children:["Install the NVIDIA GeForce Game Ready or NVIDIA RTX Quadro Windows display driver on your system with a compatible GeForce or NVIDIA RTX/Quadro card from ",(0,t.jsx)(n.a,{href:"https://www.nvidia.com/Download/index.aspx",children:"https://www.nvidia.com/Download/index.aspx"}),". This is the only driver you need to install. Do not install any Linux display driver in WSL."]}),"\n",(0,t.jsx)(n.p,{children:"Confirm that your NVIDIA GPU is accessible in WSL by running:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'docker run --rm --gpus all --entrypoint="" josh5/unmanic nvidia-smi\n'})}),"\n",(0,t.jsx)(n.p,{children:"Update the Docker Engine settings to enable the NVIDIA container runtime:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'{\n  "builder": {\n    "gc": {\n      "defaultKeepStorage": "20GB",\n      "enabled": true\n    }\n  },\n  "experimental": false,\n  "runtimes": {\n    "nvidia": {\n      "path": "/usr/bin/nvidia-container-runtime",\n      "runtimeArgs": []\n    }\n  }\n}\n'})}),"\n",(0,t.jsx)(n.p,{children:"Update your start-unmanic.sh script to add the NVIDIA runtime and GPUs:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"# NVIDIA_VISIBLE_DEVICES - The GPUs that will be accessible to the container\nNVIDIA_VISIBLE_DEVICES=all\n\ndocker run -ti --rm \\\n    -e PUID=${PUID} \\\n    -e PGID=${PGID} \\\n    -e NVIDIA_VISIBLE_DEVICES=${NVIDIA_VISIBLE_DEVICES} \\\n    --runtime=nvidia \\\n    -p 8888:8888 \\\n    -v ${CONFIG_DIR}:/config \\\n    -v ${LIBRARY_DIR}:/library \\\n    -v ${CACHE_DIR}:/tmp/unmanic \\\n    josh5/unmanic:latest\n"})})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}},79716(e,n,s){s.d(n,{A:()=>i});const i=s.p+"assets/images/windows_wsl-winver-3bf61b87bbda8fd542264424bfb633d4.png"},84677(e,n,s){s.d(n,{A:()=>i});const i=s.p+"assets/images/windows_wsl-save_nano-bbc5c11025d7e21b77e736c689a490b7.png"},90563(e,n,s){s.d(n,{A:()=>i});const i=s.p+"assets/images/windows_wsl-df-4776a48144c7138bdcae1ef2947161bf.png"}}]);