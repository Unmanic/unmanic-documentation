"use strict";(self.webpackChunkunmanic_documentation=self.webpackChunkunmanic_documentation||[]).push([[5580],{775:(e,n,t)=>{t.d(n,{A:()=>a});const a=t.p+"assets/images/unraid-radeon-top-plugin-992fb707317c30e1c8ac6ceb1ea83fb7.png"},874:(e,n,t)=>{t.d(n,{A:()=>a});const a=t.p+"assets/images/unraid-intel-top-plugin-acd4c754403b98dc07f404ff9fe358fa.png"},3889:(e,n,t)=>{t.d(n,{A:()=>a});const a=t.p+"assets/images/unraid-install-ca1-a87655d2ed8c6f2f8964476215aa0777.png"},4024:(e,n,t)=>{t.d(n,{A:()=>a});const a=t.p+"assets/images/unraid-unmanic-template-volumes-ce9c93265da5b0bb5257ef445da52a79.png"},6250:(e,n,t)=>{t.d(n,{A:()=>a});const a=t.p+"assets/images/unraid-unmanic-template-nvidia-extra-params-52b98423e5a527063baa11dd84161f87.png"},8453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>o});var a=t(6540);const i={},s=a.createContext(i);function r(e){const n=a.useContext(s);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),a.createElement(s.Provider,{value:n},e.children)}},8541:(e,n,t)=>{t.d(n,{A:()=>a});const a=t.p+"assets/images/unraid-nvidia-plugin-d75086535837dc4ec96fe941f2c5755d.png"},8603:(e,n,t)=>{t.d(n,{A:()=>a});const a=t.p+"assets/images/unraid-unmanic-template-dri-device-extra-params-6257d8d4514f09b0482358fbcfc1b6d9.png"},9013:(e,n,t)=>{t.d(n,{A:()=>a});const a=t.p+"assets/images/unraid-unmanic-template-nvidia-gpu-1f2d09896e31d11bb4a5ab75e4d13c58.png"},9090:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>u,frontMatter:()=>o,metadata:()=>a,toc:()=>d});const a=JSON.parse('{"id":"installation/unraid","title":"Installation on Unraid","description":"Unmanic Installation on Unraid","source":"@site/docs/installation/unraid.mdx","sourceDirName":"installation","slug":"/installation/unraid","permalink":"/docs/installation/unraid","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Installation on Unraid","description":"Unmanic Installation on Unraid","id":"unraid"},"sidebar":"docs","previous":{"title":"Installation via Docker","permalink":"/docs/installation/docker"},"next":{"title":"Installation on Synology","permalink":"/docs/installation/synology"}}');var i=t(4848),s=t(8453),r=t(9487);const o={title:"Installation on Unraid",description:"Unmanic Installation on Unraid",id:"unraid"},l=void 0,c={},d=[{value:"Video Guide:",id:"video-guide",level:2},{value:"Instructions:",id:"instructions",level:2},{value:"Configuring RAM as the <em>Cache Directory</em>.",id:"configuring-ram-as-the-cache-directory",level:3},{value:"1) Use /dev/shm/",id:"1-use-devshm",level:4},{value:"2) Create a custom tmpfs mount",id:"2-create-a-custom-tmpfs-mount",level:4},{value:"Some optional configuration steps:",id:"some-optional-configuration-steps",level:2},{value:"Nvidia GPU hardware encoding:",id:"nvidia-gpu-hardware-encoding",level:3},{value:"Intel hardware encoding:",id:"intel-hardware-encoding",level:3},{value:"AMD hardware encoding:",id:"amd-hardware-encoding",level:3}];function h(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h2,{id:"video-guide",children:"Video Guide:"}),"\n",(0,i.jsx)(r.A,{url:"https://www.youtube.com/watch?v=8_t_DJ6azkw",light:!0,controls:!0}),"\n",(0,i.jsx)(n.h2,{id:"instructions",children:"Instructions:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Navigate to the ",(0,i.jsx)(n.strong,{children:"Apps"}),' tab and search for "Unmanic" in the search box.']}),"\n",(0,i.jsx)(n.li,{children:'Click on the "Install" button'}),"\n"]}),"\n",(0,i.jsx)("img",{className:"screenshot",src:t(3889).A}),"\n",(0,i.jsxs)(n.ol,{start:"3",children:["\n",(0,i.jsx)(n.li,{children:"Modify the container variables as desired:"}),"\n"]}),"\n",(0,i.jsx)("img",{className:"screenshot",src:t(4024).A}),"\n",(0,i.jsxs)(n.admonition,{type:"tip",children:[(0,i.jsxs)(n.h3,{id:"configuring-ram-as-the-cache-directory",children:["Configuring RAM as the ",(0,i.jsx)(n.em,{children:"Cache Directory"}),"."]}),(0,i.jsx)(n.p,{children:"There are two main options:"}),(0,i.jsx)(n.h4,{id:"1-use-devshm",children:"1) Use /dev/shm/"}),(0,i.jsxs)(n.p,{children:["The simplest way to set the ",(0,i.jsx)(n.em,{children:"Cache Directory"})," to a ramdisk is to set this path as ",(0,i.jsx)(n.code,{children:"/dev/shm/unmanic"}),".\nThis path is a tmpfs mount, however it is limited to 50% of your total system memory by default."]}),(0,i.jsx)(n.hr,{}),(0,i.jsx)(n.h4,{id:"2-create-a-custom-tmpfs-mount",children:"2) Create a custom tmpfs mount"}),(0,i.jsxs)(n.p,{children:["If you wish to use more than 50% of your memory, add the following snippet to your Extra Parameters\n(changing ",(0,i.jsx)(n.em,{children:"20g"})," to the upper limit of whatever amount of RAM you wish to use):"]}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"--mount type=tmpfs,destination=/tmp/unmanic_tmpfs,tmpfs-size=20g\n"})}),(0,i.jsx)(n.p,{children:"This does not reserve this amount of RAM for the container. It only creates a mount limited to the amount specified.\nYou will still be limited to the amount of RAM available on the system as shared by all other processes."}),(0,i.jsx)(n.hr,{}),(0,i.jsx)(n.p,{children:"Whatever option above that you choose, you will need ensure you have enough available memory for the container to use this location as the cache."})]}),"\n",(0,i.jsxs)(n.ol,{start:"7",children:["\n",(0,i.jsx)(n.li,{children:'Scroll to the bottom and click the "APPLY" button'}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Once the image is downloaded you should see it appear in the ",(0,i.jsx)(n.strong,{children:"Docker"})," tab."]}),"\n",(0,i.jsx)(n.h2,{id:"some-optional-configuration-steps",children:"Some optional configuration steps:"}),"\n",(0,i.jsx)(n.h3,{id:"nvidia-gpu-hardware-encoding",children:"Nvidia GPU hardware encoding:"}),"\n",(0,i.jsx)(n.p,{children:"To use your NVIDIA GPU for hardware encoding in this container, follow these steps:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Install the ",(0,i.jsx)(n.a,{href:"https://forums.unraid.net/topic/98978-plugin-nvidia-driver/",children:"Unraid Nvidia-Driver Plugin"})," to install\nan up-to-date NVIDIA driver onto your Unraid server."]}),"\n"]}),"\n",(0,i.jsx)("img",{className:"screenshot",src:t(8541).A}),"\n",(0,i.jsxs)(n.ol,{start:"2",children:["\n",(0,i.jsx)(n.li,{children:'Toggle this Docker Container template editor to "Advanced View".'}),"\n",(0,i.jsx)(n.li,{children:'In the "Extra Parameters" field, add "--runtime=nvidia".'}),"\n"]}),"\n",(0,i.jsx)("img",{className:"screenshot",src:t(6250).A}),"\n",(0,i.jsxs)(n.ol,{start:"4",children:["\n",(0,i.jsx)(n.li,{children:'Expand the template "Show more settings..." section near the bottom.'}),"\n",(0,i.jsx)(n.li,{children:'In the "NVIDIA_VISIBLE_DEVICES" variable, copy your GPU UUID (can be found in the Unraid Nvidia Plugin. See that forum thread for details)'}),"\n"]}),"\n",(0,i.jsx)("img",{className:"screenshot",src:t(9013).A}),"\n",(0,i.jsxs)(n.p,{children:["Once you have completed these steps, you should be able to use the ",(0,i.jsx)(n.strong,{children:"h264_nvenc"})," and ",(0,i.jsx)(n.strong,{children:"hvec_nvenc"})," encoders."]}),"\n",(0,i.jsx)(n.h3,{id:"intel-hardware-encoding",children:"Intel hardware encoding:"}),"\n",(0,i.jsx)(n.p,{children:"To use your INTEL Processor for hardware encoding in this container, follow these steps:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Install the ",(0,i.jsx)(n.a,{href:"https://forums.unraid.net/topic/92865-support-ich777-nvidiadvb-kernel-helperbuilder-docker/",children:"Intel-GPU-TOP Plugin"}),"."]}),"\n"]}),"\n",(0,i.jsx)("img",{className:"screenshot",src:t(874).A}),"\n",(0,i.jsxs)(n.ol,{start:"2",children:["\n",(0,i.jsx)(n.li,{children:'Toggle this Docker Container template editor to "Advanced View".'}),"\n",(0,i.jsx)(n.li,{children:'In the "Extra Parameters" field, add "--device=/dev/dri".'}),"\n"]}),"\n",(0,i.jsx)("img",{className:"screenshot",src:t(8603).A}),"\n",(0,i.jsxs)(n.p,{children:["Once you have completed these steps, you should be able to use the ",(0,i.jsx)(n.strong,{children:"h264_vaapi"})," and ",(0,i.jsx)(n.strong,{children:"hevc_vaapi"})," encoders."]}),"\n",(0,i.jsx)(n.h3,{id:"amd-hardware-encoding",children:"AMD hardware encoding:"}),"\n",(0,i.jsx)(n.p,{children:"To use your AMD APU/GPU for hardware encoding in this container, follow these steps:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Install the ",(0,i.jsx)(n.a,{href:"https://forums.unraid.net/topic/92865-support-ich777-nvidiadvb-kernel-helperbuilder-docker/",children:"Radeon-TOP Plugin"}),"."]}),"\n"]}),"\n",(0,i.jsx)("img",{className:"screenshot",src:t(775).A}),"\n",(0,i.jsxs)(n.ol,{start:"2",children:["\n",(0,i.jsx)(n.li,{children:'Toggle this Docker Container template editor to "Advanced View".'}),"\n",(0,i.jsx)(n.li,{children:'In the "Extra Parameters" field, add "--device=/dev/dri".'}),"\n"]}),"\n",(0,i.jsx)("img",{className:"screenshot",src:t(8603).A}),"\n",(0,i.jsxs)(n.p,{children:["Once you have completed these steps, you should be able to use the ",(0,i.jsx)(n.strong,{children:"h264_vaapi"})," and ",(0,i.jsx)(n.strong,{children:"hevc_vaapi"})," encoders."]}),"\n",(0,i.jsxs)(n.admonition,{type:"tip",children:[(0,i.jsx)(n.p,{children:"Ryzen APU transcode performance is heavily determined by the speed of your RAM."}),(0,i.jsx)(n.p,{children:"Setting RAM speed from 2400 to 3200 changed transcode times from around 10 minutes to around 5."}),(0,i.jsx)(n.p,{children:"Also, if you have the option in your BIOS, set your iGPU RAM to at least 1GB (So long as you can afford to subtract that from your available RAM)."})]})]})}function u(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},9487:(e,n,t)=>{t.d(n,{A:()=>k});var a=t(6540);const i=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i,s=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i,r=/\.(m3u8)($|\?)/i,o=/\.(mpd)($|\?)/i,l=/stream\.mux\.com\/(?!\w+\.m3u8)(\w+)/,c=/(?:youtu\.be\/|youtube(?:-nocookie|education)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=|shorts\/|live\/))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//,d=/vimeo\.com\/(?!progressive_redirect).+/,h=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?([^?]+)/,u=/open\.spotify\.com\/(\w+)\/(\w+)/i,m=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+|(videos?\/|\?video=)\d+)($|\?)/,p=/tiktok\.com\/(?:player\/v1\/|share\/video\/|@[^/]+\/video\/)([0-9]+)/,y=(e,n)=>{if(Array.isArray(e)){for(const t of e){if("string"==typeof t&&y(t,n))return!0;if(y(t.src,n))return!0}return!1}return n(e)},f={html:e=>y(e,e=>i.test(e)||s.test(e)),hls:e=>y(e,e=>r.test(e)),dash:e=>y(e,e=>o.test(e)),mux:e=>l.test(e),youtube:e=>c.test(e),vimeo:e=>d.test(e)&&!s.test(e)&&!r.test(e),wistia:e=>h.test(e),spotify:e=>u.test(e),twitch:e=>m.test(e),tiktok:e=>p.test(e)};var v=a.forwardRef((e,n)=>{const t=i.test(`${e.src}`)?"audio":"video";return a.createElement(t,{...e,ref:n},e.children)});var g=[{key:"hls",name:"hls.js",canPlay:f.hls,canEnablePIP:()=>!0,player:(0,a.lazy)(()=>Promise.all([t.e(2606),t.e(2262)]).then(t.bind(t,1833)))},{key:"dash",name:"dash.js",canPlay:f.dash,canEnablePIP:()=>!0,player:(0,a.lazy)(()=>t.e(6395).then(t.bind(t,9380)))},{key:"mux",name:"Mux",canPlay:f.mux,canEnablePIP:()=>!0,player:(0,a.lazy)(()=>Promise.all([t.e(2606),t.e(2723)]).then(t.bind(t,1933)))},{key:"youtube",name:"YouTube",canPlay:f.youtube,player:(0,a.lazy)(()=>t.e(8446).then(t.bind(t,126)))},{key:"vimeo",name:"Vimeo",canPlay:f.vimeo,player:(0,a.lazy)(()=>t.e(6173).then(t.bind(t,9301)))},{key:"wistia",name:"Wistia",canPlay:f.wistia,canEnablePIP:()=>!0,player:(0,a.lazy)(()=>t.e(9340).then(t.bind(t,9971)))},{key:"spotify",name:"Spotify",canPlay:f.spotify,canEnablePIP:()=>!1,player:(0,a.lazy)(()=>t.e(2771).then(t.bind(t,9422)))},{key:"twitch",name:"Twitch",canPlay:f.twitch,canEnablePIP:()=>!1,player:(0,a.lazy)(()=>t.e(2042).then(t.bind(t,5946)))},{key:"tiktok",name:"TikTok",canPlay:f.tiktok,canEnablePIP:()=>!1,player:(0,a.lazy)(()=>t.e(8085).then(t.bind(t,3173)))},{key:"html",name:"html",canPlay:f.html,canEnablePIP:()=>!0,player:v}];const x={width:"320px",height:"180px",volume:1,playbackRate:1,previewTabIndex:0,previewAriaLabel:"",oEmbedUrl:"https://noembed.com/embed?url={url}"},b=a.forwardRef((e,n)=>{const{playing:t,pip:i}=e,s=e.activePlayer,r=(0,a.useRef)(null),o=(0,a.useRef)(!0);(0,a.useEffect)(()=>{var n,a;r.current&&(r.current.paused&&!0===t&&r.current.play(),r.current.paused||!1!==t||r.current.pause(),r.current.playbackRate=null!=(n=e.playbackRate)?n:1,r.current.volume=null!=(a=e.volume)?a:1)}),(0,a.useEffect)(()=>{var e,n,t,a,s;if(r.current&&globalThis.document){if(i&&!document.pictureInPictureElement)try{null==(n=(e=r.current).requestPictureInPicture)||n.call(e)}catch(o){}if(!i&&document.pictureInPictureElement)try{null==(a=(t=r.current).exitPictureInPicture)||a.call(t),null==(s=document.exitPictureInPicture)||s.call(document)}catch(o){}}},[i]);if(!s)return null;const l={},c=["onReady","onStart"];for(const a in e)a.startsWith("on")&&!c.includes(a)&&(l[a]=e[a]);return a.createElement(s,{...l,style:e.style,className:e.className,slot:e.slot,ref:(0,a.useCallback)(e=>{r.current=e,"function"==typeof n?n(e):null!==n&&(n.current=e)},[n]),src:e.src,crossOrigin:e.crossOrigin,preload:e.preload,controls:e.controls,muted:e.muted,autoPlay:e.autoPlay,loop:e.loop,playsInline:e.playsInline,config:e.config,onLoadStart:n=>{var t,a;o.current=!0,null==(t=e.onReady)||t.call(e),null==(a=e.onLoadStart)||a.call(e,n)},onPlay:n=>{var t,a;o.current&&(o.current=!1,null==(t=e.onStart)||t.call(e,n)),null==(a=e.onPlay)||a.call(e,n)}},e.children)});b.displayName="Player";var j=b;const w=(0,a.lazy)(()=>t.e(6353).then(t.bind(t,1924))),P=[],I=({children:e})=>e;var k=((e,n)=>{const t=a.forwardRef((t,i)=>{const s={...x,...t},{src:r,slot:o,className:l,style:c,width:d,height:h,fallback:u,wrapper:m}=s,[p,y]=(0,a.useState)(!!s.light);(0,a.useEffect)(()=>{s.light?y(!0):y(!1)},[s.light]);const f=e=>{var n;y(!1),null==(n=s.onClickPreview)||n.call(s,e)},v=null==m?I:m,g=!1===u?I:a.Suspense;return a.createElement(v,{slot:o,className:l,style:{width:d,height:h,...c}},a.createElement(g,{fallback:u},p?(e=>{if(!e)return null;const{light:n,playIcon:t,previewTabIndex:i,oEmbedUrl:r,previewAriaLabel:o}=s;return a.createElement(w,{src:e,light:n,playIcon:t,previewTabIndex:i,previewAriaLabel:o,oEmbedUrl:r,onClickPreview:f})})(r):(t=>{var r,c;const d=(t=>{for(const n of[...P,...e])if(t&&n.canPlay(t))return n;return n||null})(t);if(!d)return null;const{style:h,width:u,height:m,wrapper:p}=s,y=null==(r=s.config)?void 0:r[d.key];return a.createElement(j,{...s,ref:i,activePlayer:null!=(c=d.player)?c:d,slot:p?void 0:o,className:p?void 0:l,style:p?{display:"block",width:"100%",height:"100%"}:{display:"block",width:u,height:m,...h},config:y})})(r)))});return t.displayName="ReactPlayer",t.addCustomPlayer=e=>{P.push(e)},t.removeCustomPlayers=()=>{P.length=0},t.canPlay=n=>{if(n)for(const t of[...P,...e])if(t.canPlay(n))return!0;return!1},t.canEnablePIP=n=>{var t;if(n)for(const a of[...P,...e])if(a.canPlay(n)&&(null==(t=a.canEnablePIP)?void 0:t.call(a)))return!0;return!1},t})(g,g[g.length-1])}}]);